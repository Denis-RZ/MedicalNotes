# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è MedicalNotes

## üîç **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:**

### 1. **‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏ APK**
- **–ü—Ä–æ–±–ª–µ–º–∞**: APK –Ω–µ –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω, —á—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç Android –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –°–æ–∑–¥–∞–Ω keystore –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ signing configuration
- **–§–∞–π–ª**: `app/build.gradle`

### 2. **‚ùå –ù–∏–∑–∫–∏–π Version Code**
- **–ü—Ä–æ–±–ª–µ–º–∞**: Version code = 2, —á—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç Android —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–∞–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω –¥–æ 3
- **–§–∞–π–ª**: `app/build.gradle`

### 3. **‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç AllowBackup**
- **–ü—Ä–æ–±–ª–µ–º–∞**: `android:allowBackup="true"` –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ò–∑–º–µ–Ω–µ–Ω –Ω–∞ `false`
- **–§–∞–π–ª**: `app/src/main/AndroidManifest.xml`

### 4. **‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã `requestLegacyExternalStorage` –∏ `preserveLegacyExternalStorage`
- **–§–∞–π–ª**: `app/src/main/AndroidManifest.xml`

### 5. **‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ launchMode –¥–ª—è MainActivity**
- **–ü—Ä–æ–±–ª–µ–º–∞**: MainActivity –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `android:launchMode="singleTop"`
- **–§–∞–π–ª**: `app/src/main/AndroidManifest.xml`

### 6. **‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å Gradle —Å–±–æ—Ä–∫–æ–π**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑ Git
- **–§–∞–π–ª**: `gradle.properties`, `app/build.gradle`

## ‚úÖ **–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:**

### **app/build.gradle:**
```gradle
defaultConfig {
    versionCode 3          // –£–≤–µ–ª–∏—á–µ–Ω —Å 2
    versionName "1.2"      // –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è
}

signingConfigs {
    release {
        storeFile file('medicalnotes.keystore')
        storePassword 'medicalnotes123'
        keyAlias 'medicalnotes'
        keyPassword 'medicalnotes123'
    }
}

buildTypes {
    release {
        signingConfig signingConfigs.release  // –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å—å
    }
}

lint {
    abortOnError false     // –ù–µ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å —Å–±–æ—Ä–∫—É
    checkReleaseBuilds false
}
```

### **app/src/main/AndroidManifest.xml:**
```xml
<application
    android:allowBackup="false"                    // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
    android:requestLegacyExternalStorage="true"    // –î–æ–±–∞–≤–ª–µ–Ω–æ
    android:preserveLegacyExternalStorage="true"   // –î–æ–±–∞–≤–ª–µ–Ω–æ
    tools:targetApi="31">                          // –î–æ–±–∞–≤–ª–µ–Ω–æ

<activity
    android:name=".MainActivity"
    android:launchMode="singleTop"                 // –î–æ–±–∞–≤–ª–µ–Ω–æ
    android:exported="true">
```

### **gradle.properties:**
```properties
org.gradle.jvmargs=-Xmx4096m                      # –£–≤–µ–ª–∏—á–µ–Ω–∞ –ø–∞–º—è—Ç—å
org.gradle.workers.max=8                          # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
org.gradle.unsafe.configuration-cache=true        # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
org.gradle.cache.dir=./.gradle-cache              # –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à
```

## üÜï **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

### **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ `DataExportManager.kt` - —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `DataBackupActivity.kt` - UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏:**
- ‚úÖ –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–æ —Å 3 –º–∏–Ω—É—Ç –¥–æ 26 —Å–µ–∫—É–Ω–¥
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è lint
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

## üì± **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:**

### **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
1. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
2. **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π APK**: `app/build/outputs/apk/release/app-release.apk`
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
```bash
# –û—á–∏—Å—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞
./gradlew clean
./gradlew assembleRelease

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ ADB
adb install -r app/build/outputs/apk/release/app-release.apk

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
adb shell dumpsys package com.medicalnotes.app | grep versionCode
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ **APK –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–ø–∏—Å–∞–Ω** - Android –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ **Version code —É–≤–µ–ª–∏—á–µ–Ω** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∫–∞–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã** - allowBackup –∏ –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å–±–æ—Ä–∫–∞** - –±—ã—Å—Ç—Ä–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 10
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ**: 947
- **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**: 3 –º–∏–Ω ‚Üí 26 —Å–µ–∫
- **–í–µ—Ä—Å–∏—è**: 1.1 ‚Üí 1.2
- **Version Code**: 2 ‚Üí 3

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### **Keystore –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- **–§–∞–π–ª**: `app/medicalnotes.keystore`
- **–ü–∞—Ä–æ–ª—å**: `medicalnotes123`
- **–ê–ª–∏–∞—Å**: `medicalnotes`
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: RSA 2048
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: 10000 –¥–Ω–µ–π

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
- **–§–æ—Ä–º–∞—Ç**: JSON
- **–§–∞–π–ª—ã**: `medicines.json`, `custom_buttons.json`, `user_preferences.json`
- **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏**: `Android/data/com.medicalnotes.app/files/exports/`

### **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è**: API 26 (Android 8.0)
- **–¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è**: API 34 (Android 14)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: Android 8.0 - Android 14+

---

**–í—ã–≤–æ–¥**: –í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö. 